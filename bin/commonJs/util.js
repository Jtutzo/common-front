// Generated by CoffeeScript 1.12.2

/*====================================================================================
 *                                     DÃ©pendances
#===================================================================================
 */

(function() {
  var $, ARGUMENT_EXCEPTION, ARRAY, ARRAY_EXCEPTION, BLANK_EXCEPTION, BOOLEAN, BOOLEAN_EXCEPTION, EMPTY_EXCEPTION, ERROR, FORMAT_DATE_DD_MM_YYYY_1, FORMAT_DATE_DD_MM_YYYY_2, FORMAT_DATE_DD_MM_YY_1, FORMAT_DATE_DD_MM_YY_2, FORMAT_DATE_MM_DD_YYYY_1, FORMAT_DATE_MM_DD_YYYY_2, FORMAT_DATE_MM_DD_YY_1, FORMAT_DATE_MM_DD_YY_2, FUNCTION, FUNCTION_EXCEPTION, NOT_ARRAY_EXCEPTION, NOT_BLANK_EXCEPTION, NOT_BOOLEAN_EXCEPTION, NOT_EMPTY_EXCEPTION, NOT_FUNCTION_EXCEPTION, NOT_NULL_EXCEPTION, NOT_NULL_OR_UNDEFINED_EXCEPTION, NOT_NUMBER_EXCEPTION, NOT_OBJECT_EXCEPTION, NOT_STRING_EXCEPTION, NOT_UNDEFINED_EXCEPTION, NULL, NULL_EXCEPTION, NULL_OR_UNDEFINED_EXCEPTION, NUMBER, NUMBER_EXCEPTION, OBJECT, OBJECT_EXCEPTION, STRING, STRING_EXCEPTION, SUCCESS, UNDEFINED, UNDEFINED_EXCEPTION, ajax, argumentException, arrayException, blankException, booleanException, cacheReferentiel, clone, confAjax, confReferentiel, contain, debug, defaultParamsAjax, defaultParamsReferentiel, emptyException, error, factoryConfAjax, factoryConfReferentiel, formattedDate, functionException, getType, isArray, isBlank, isBoolean, isEmpty, isEquals, isFunction, isModeDebug, isNotArray, isNotBlank, isNotBoolean, isNotEmpty, isNotFunction, isNotNull, isNotNullOrUndefined, isNotNumber, isNotObject, isNotString, isNotUndefined, isNull, isNullOrUndefined, isNumber, isObject, isString, isUndefined, isValideDate, modeDebug, moment, newDate, noContain, notArrayException, notBlankException, notBooleanException, notEmptyException, notFunctionException, notNullException, notNullOrUndefinedException, notNumberException, notObjectException, notStringException, notUndefinedException, nullException, nullOrUndefinedException, numberException, objectException, oneIsEmpty, oneIsEquals, paramsAjax, paramsReferentiel, query, referentiel, regexFormat, stringException, toObject, undefinedException;

  $ = require('jquery');

  moment = require('moment');


  /*====================================================================================
   *                                     Constante
  #===================================================================================
   */

  UNDEFINED = 'undefined';

  NULL = 'null';

  BOOLEAN = 'boolean';

  NUMBER = 'number';

  STRING = 'string';

  OBJECT = 'object';

  ARRAY = 'array';

  FUNCTION = 'function';

  FORMAT_DATE_DD_MM_YYYY_1 = 'DD/MM/YYYY';

  FORMAT_DATE_DD_MM_YY_1 = 'DD/MM/YY';

  FORMAT_DATE_DD_MM_YYYY_2 = 'DD-MM-YYYY';

  FORMAT_DATE_DD_MM_YY_2 = 'DD-MM-YY';

  FORMAT_DATE_MM_DD_YYYY_1 = 'MM/DD/YYYY';

  FORMAT_DATE_MM_DD_YY_1 = 'MM/DD/YY';

  FORMAT_DATE_MM_DD_YYYY_2 = 'MM-DD-YYYY';

  FORMAT_DATE_MM_DD_YY_2 = 'MM-DD-YY';

  regexFormat = {
    'DD/MM/YYYY': [/(\d{2})\/(\d{2})\/(\d{4})/, "$2/$1/$3"],
    'DD/MM/YY': [/(\d{2})\/(\d{2})\/(\d{2})/, "$2/$1/$3"],
    'DD/MM/YYYY': [/(\d{2})-(\d{2})-(\d{4})/, "$2/$1/$3"],
    'DD/MM/YY': [/(\d{2})-(\d{2})-(\d{2})/, "$2/$1/$3"],
    'MM/DD/YYYY': [/(\d{2})\/(\d{2})\/(\d{4})/, "$1/$2/$3"],
    'MM/DD/YY': [/(\d{2})\/(\d{2})\/(\d{2})/, "$1/$2/$3"],
    'MM/DD/YYYY': [/(\d{2})-(\d{2})-(\d{4})/, "$1/$2/$3"],
    'MM/DD/YY': [/(\d{2})-(\d{2})-(\d{2})/, "$1/$2/$3"]
  };

  SUCCESS = 'SUCCESS';

  ERROR = 'ERROR';

  ARGUMENT_EXCEPTION = 'ArgumentException';

  NULL_OR_UNDEFINED_EXCEPTION = 'NullOrUndefinedException';

  NOT_NULL_OR_UNDEFINED_EXCEPTION = 'NotNullOrUndefinedException';

  NULL_EXCEPTION = 'NullException';

  NOT_NULL_EXCEPTION = 'NotNullException';

  UNDEFINED_EXCEPTION = 'UndefinedException';

  NOT_UNDEFINED_EXCEPTION = 'NotUndefinedException';

  BLANK_EXCEPTION = 'BlankException';

  NOT_BLANK_EXCEPTION = 'NotBlankException';

  EMPTY_EXCEPTION = 'EmptyException';

  NOT_EMPTY_EXCEPTION = 'NotEmptyException';

  BOOLEAN_EXCEPTION = 'BooleanException';

  NOT_BOOLEAN_EXCEPTION = 'NotBooleanException';

  NUMBER_EXCEPTION = 'NumberException';

  NOT_NUMBER_EXCEPTION = 'NotNumberException';

  STRING_EXCEPTION = 'StringException';

  NOT_STRING_EXCEPTION = 'NotStringException';

  OBJECT_EXCEPTION = 'ObjectException';

  NOT_OBJECT_EXCEPTION = 'NotObjectException';

  ARRAY_EXCEPTION = 'ArrayException';

  NOT_ARRAY_EXCEPTION = 'NotArrayException';

  FUNCTION_EXCEPTION = 'FunctionException';

  NOT_FUNCTION_EXCEPTION = 'NotFunctionException';

  defaultParamsAjax = {
    url: "",
    data: null,
    success: null,
    failure: null,
    method: 'POST',
    async: true
  };

  paramsAjax = null;

  defaultParamsReferentiel = {
    url: "",
    repalceUrl: '{referentiel}',
    success: null,
    failure: null,
    method: 'POST',
    async: false
  };

  paramsReferentiel = null;

  cacheReferentiel = [];

  isModeDebug = false;


  /*====================================================================================
   *                         methodes exception
  #===================================================================================
   */


  /*
   * launch exception (ARGUMENT_EXCEPTION) if expr is true
   * @param test
   * @param message
   */

  argumentException = function(expr, message) {
    var exception;
    if (!isBoolean(expr)) {
      error("util.argumentException => expr must be a boolean expression.");
      throw new Error(ARGUMENT_EXCEPTION);
    }
    if (!isBlank(message && !isString(message))) {
      error("util.argumentException => message must be a string value.");
      throw new Error(ARGUMENT_EXCEPTION);
    }
    if (expr) {
      exception = ARGUMENT_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.argumentException => expr is true [" + exception + "]");
      throw new Error(ARGUMENT_EXCEPTION);
    } else {
      return debug("util.argumentException => expr is false.");
    }
  };


  /*
   * Launch exception (NULL_OR_UNDEFINED_EXCEPTION) if value is null or unedfined
   * @param value
   * @param message
   */

  nullOrUndefinedException = function(value, message) {
    var exception;
    if (isNull(value || isUndefined(value))) {
      exception = NULL_OR_UNDEFINED_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.nullOrUndefinedException => value is null or undefined [" + exception + "]");
      throw new Error(NULL_OR_UNDEFINED_EXCEPTION);
    } else {
      return debug("util.nullException => value isn't null or unedfined.");
    }
  };


  /*
   * Launch exception (NOT_NULL_OR_UNDEFINED_EXCEPTION) if value is null or unedfined
   * @param value
   * @param message
   */

  notNullOrUndefinedException = function(value, message) {
    var exception;
    if (isNotNull(value || isNotUndefined(value))) {
      exception = NOT_NULL_OR_UNDEFINED_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.notNullOrUndefinedException => value isn't null or unedfined [" + exception + "]");
      throw new Error(NOT_NULL_OR_UNDEFINED_EXCEPTION);
    } else {
      return debug("util.notNullOrUndefinedException => value is null or undefined.");
    }
  };


  /*
   * Launch exception (NULL_EXCEPTION) if value is null
   * @param value
   * @param message
   */

  nullException = function(value, message) {
    var exception;
    if (isNull(value)) {
      exception = NULL_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.nullException => value is null [" + exception + "]");
      throw new Error(NULL_EXCEPTION);
    } else {
      return debug("util.nullException => value isn't null.");
    }
  };


  /*
   * Launch exception (NOT_NULL_EXCEPTION) if value isn't null
   * @param value
   * @param message
   */

  notNullException = function(value, message) {
    var exception;
    if (isNotNull(value)) {
      exception = NOT_NULL_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.notNullException => value isn't null [" + exception + "]");
      throw new Error(NOT_NULL_EXCEPTION);
    } else {
      return debug("util.notNullException => value is null.");
    }
  };


  /*
   * Launch exception (UNDEFINED_EXCEPTION) if value is undefined
   * @param value
   * @param message
   */

  undefinedException = function(value, message) {
    var exception;
    if (isUndefined(value)) {
      exception = UNDEFINED_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.undefinedException => value is unedfined [" + exception + "]");
      throw new Error(UNDEFINED_EXCEPTION);
    } else {
      return debug("util.undefinedException => value isn't unedfined.");
    }
  };


  /*
   * Launch exception (NOT_UNDEFINED_EXCEPTION) if value isn't undefined
   * @param value
   * @param message
   */

  notUndefinedException = function(value, message) {
    var exception;
    if (isNotUndefined(value)) {
      exception = NOT_UNDEFINED_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.notUndefinedException => value isn't unedfined [" + exception + "]");
      throw new Error(NOT_UNDEFINED_EXCEPTION);
    } else {
      return debug("util.notUndefinedException => value is unedfined.");
    }
  };


  /*
   * Launch exception (BLANK_EXCEPTION) if value is blank
   * @param value
   * @param message
   */

  blankException = function(value, message) {
    var exception;
    if (isBlank(value)) {
      exception = BLANK_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.blankException => value is blank [" + exception + "]");
      throw new Error(BLANK_EXCEPTION);
    } else {
      return debug("util.blankException => value isn't blank.");
    }
  };


  /*
   * Launch exception (NOT_BLANK_EXCEPTION) if value is blank
   * @param value
   * @param message
   */

  notBlankException = function(value, message) {
    var exception;
    if (isNotBlank(value)) {
      exception = NOT_BLANK_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.notBlankException => value isn't blank [" + exception + "]");
      throw new Error(NOT_BLANK_EXCEPTION);
    } else {
      return debug("util.notBlankException => value is blank.");
    }
  };


  /*
   * Launch exception (EMPTY_EXCEPTION) if value is empty
   * @param value
   * @param message
   */

  emptyException = function(value, message) {
    var exception;
    if (isEmpty(value)) {
      exception = EMPTY_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.emptyException => value is empty [" + exception + "]");
      throw new Error(EMPTY_EXCEPTION);
    } else {
      return debug("util.emptyException => value isn't empty.");
    }
  };


  /*
   * Launch exception (NOT_EMPTY_EXCEPTION) if value isn't empty
   * @param value
   * @param message
   */

  notEmptyException = function(value, message) {
    var exception;
    if (isNotEmpty(value)) {
      exception = NOT_EMPTY_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.notEmptyException => value isn't empty [" + exception + "]");
      throw new Error(NOT_EMPTY_EXCEPTION);
    } else {
      return debug("util.notEmptyException => value is empty.");
    }
  };


  /*
   * launch exception (BOOLEAN_EXCEPTION) if is a boolean value
   * @param value
   * @param message
   */

  booleanException = function(value, message) {
    var exception;
    if (isBoolean(value)) {
      exception = BOOLEAN_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.booleanException => value is a boolean [" + exception + "]");
      throw new Error(BOOLEAN_EXCEPTION);
    } else {
      return debug("util.booleanException => value isn't a boolean.");
    }
  };


  /*
  * launch exception (NOT_BOOLEAN_EXCEPTION) if isn't a boolean value
  * @param value
  * @param message
   */

  notBooleanException = function(value, message) {
    var exception;
    if (isNotBoolean(value)) {
      exception = NOT_BOOLEAN_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.notBooleanException => value isn't a boolean [" + exception + "]");
      throw new Error(NOT_BOOLEAN_EXCEPTION);
    } else {
      return debug("util.notBooleanException => value is a boolean.");
    }
  };


  /*
   * launch exception (NUMBER_EXCEPTION) if is a number value
   * @param value
   * @param message
   */

  numberException = function(value, message) {
    var exception;
    if (isNumber(value)) {
      exception = NUMBER_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.numberException => value is a number [" + exception + "]");
      throw new Error(NUMBER_EXCEPTION);
    } else {
      return debug("util.numberException => value isn't a number.");
    }
  };


  /*
   * launch exception (NOT_NUMBER_EXCEPTION) if isn't a number value
   * @param value
   * @param message
   */

  notNumberException = function(value, message) {
    var exception;
    if (isNotNumber(value)) {
      exception = NOT_NUMBER_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.notNumberException => value isn't a number [" + exception + "]");
      throw new Error(NOT_NUMBER_EXCEPTION);
    } else {
      return debug("util.notNumberException => value is a number.");
    }
  };


  /*
   * launch exception (STRING_EXCEPTION) if is a string value
   * @param value
   * @param message
   */

  stringException = function(value, message) {
    var exception;
    if (isString(value)) {
      exception = STRING_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.stringException => value is a string [" + exception + "]");
      throw new Error(STRING_EXCEPTION);
    } else {
      return debug("util.stringException => value isn't a string.");
    }
  };


  /*
   * launch exception (NOT_STRING_EXCEPTION) if isn't a string value
   * @param value
   * @param message
   */

  notStringException = function(value, message) {
    var exception;
    if (isNotString(value)) {
      exception = NOT_STRING_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.notStringException => value isn't a string [" + exception + "]");
      throw new Error(NOT_STRING_EXCEPTION);
    } else {
      return debug("util.notStringException => value is a string.");
    }
  };


  /*
   * launch exception (OBJECT_EXCEPTION) if is an object value
   * @param value
   * @param message
   */

  objectException = function(value, message) {
    var exception;
    if (isObject(value)) {
      exception = OBJECT_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.objectException => value is an object [" + exception + "]");
      throw new Error(OBJECT_EXCEPTION);
    } else {
      return debug`util.objectException => value isn't an object.`;
    }
  };


  /*
   * launch exception (NOT_OBJECT_EXCEPTION) if isn't an object value
   * @param value
   * @param message
   */

  notObjectException = function(value, message) {
    var exception;
    if (isNotObject(value)) {
      exception = NOT_OBJECT_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.notObjectException => value isn't an object [" + exception + "]");
      throw new Error(NOT_OBJECT_EXCEPTION);
    } else {
      return debug("util.notObjectException => value is an object.");
    }
  };


  /*
   * launch exception (ARRAY_EXCEPTION) if isn't an array value
   * @param value
   * @param message
   */

  arrayException = function(value, message) {
    var exception;
    if (isArray(value)) {
      exception = ARRAY_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.arrayException => value is an array [" + exception + "]");
      throw new Error(ARRAY_EXCEPTION);
    } else {
      return debug("util.arrayException => value isn't an array.");
    }
  };


  /*
   * launch exception (NOT_ARRAY_EXCEPTION) if isn't an array value
   * @param value
   * @param message
   */

  notArrayException = function(value, message) {
    var exception;
    if (isNotArray(value)) {
      exception = NOT_ARRAY_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.notArrayException => value isn't an array [" + exception + "]");
      throw new Error(NOT_ARRAY_EXCEPTION);
    } else {
      return debug("util.notArrayException => value is an array.");
    }
  };


  /*
   * launch exception (FUNCTION_EXCEPTION) if isn't a function value
   * @param value
   * @param message
   */

  functionException = function(value, message) {
    var exception;
    if (isFunction(value)) {
      exception = FUNCTION_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.functionException => value is a function [" + exception + "]");
      throw new Error(FUNCTION_EXCEPTION);
    } else {
      return debug("util.functionException => value isn't a function.");
    }
  };


  /*
   * launch exception (NOT_FUNCTION_EXCEPTION) if isn't a function value
   * @param value
   * @param message
   */

  notFunctionException = function(value, message) {
    var exception;
    if (isNotFunction(value)) {
      exception = NOT_FUNCTION_EXCEPTION + (!isBlank(message) ? ": " + message : ".");
      error("util.notFunctionException => value isn't a function [" + exception + "]");
      throw new Error(NOT_FUNCTION_EXCEPTION);
    } else {
      return debug("util.notFunctionException => value is a function.");
    }
  };


  /*====================================================================================
   *                         methodes exception
  #===================================================================================
   */


  /*
   * Check if is null or undefined value
   * @param value
   */

  isNullOrUndefined = function(value) {
    if ((isNull(value)) || (isUndefined(value))) {
      debug("util.isNullOrUndefined => value is null or undefined.");
      return true;
    } else {
      debug("util.isNullOrUndefined => value isn't null and undefined.");
      return false;
    }
  };


  /*
  * Check if isn't null or undefined value
  * @param value
   */

  isNotNullOrUndefined = function(value) {
    return !isNullOrUndefined(value);
  };


  /*
   * Check if is null, undefined or blank value
   * @param value
   */

  isBlank = function(value) {
    if ((isNull(value)) || (isUndefined(value)) || ((isString(value)) && value.trim === 0)) {
      debug("util.isBlank => value is blank.");
      return true;
    } else {
      debug("util.isBlank => value isn't blank.");
      return false;
    }
  };


  /*
   * Check if isn't null, undefined or blank value
   * @param value
   */

  isNotBlank = function(value) {
    return !isBlank(value);
  };


  /*
   * Check if value is null, undefined, blank or empty
   * @param value
   */

  isEmpty = function(value) {
    if ((isBlank(value)) || ((isObject(value)) && Object.keys(value).length === 0) || (isArray(valvalue.length === 0))) {
      debug("util.isEmpty => value is empty.");
      return true;
    } else {
      debug("util.isEmpty => value isn't empty.");
      return false;
    }
  };


  /*
   * Check if value isn't null, undefined, blank or empty
   * @param value
   */

  isNotEmpty = function(value) {
    return !isEmpty(value);
  };


  /*
   * Check if at least values is empty
   * @param values (array)
   * @exception NOT_ARRAY_EXCEPTION
   */

  oneIsEmpty = function(array) {
    var i, len, value;
    notArrayException(array, "array must be an array value (util.oneIsEmpty).");
    for (i = 0, len = array.length; i < len; i++) {
      value = array[i];
      if (isEmpty(value)) {
        debug("util.oneIsEmpty => at least value is empty.");
        return true;
      }
    }
    debug("util.oneIsEmpty => any value is empty.");
    return false;
  };


  /*
   * Check if value1 and value2 are equals
   * Caution : use JSON for camparaison !
   * @param value1
   * @param value2
   */

  isEquals = function(value1, value2) {
    if (JSON.stringify(obj1) === JSON.stringify(obj2)) {
      debug("util.isEquals => value1 is equal to value2.");
      return true;
    } else {
      debug("util.isEquals => value1 isn't equal to value2.");
      return false;
    }
  };


  /*
   * Check if at least value is equals
   * @param array1
   * @param array2
   * @exception NOT_ARRAY_EXCEPTION
   */

  oneIsEquals = function(array1, array2) {
    var i, j, len, len1, value1, value2;
    notArrayException(array1, "array1 must be an array value (util.oneIsEquals).");
    notArrayException(array2, "array2 must be an array value (util.oneIsEquals).");
    for (i = 0, len = array1.length; i < len; i++) {
      value1 = array1[i];
      for (j = 0, len1 = array2.length; j < len1; j++) {
        value2 = array2[j];
        if (value1 === value2) {
          debug("util.oneIsEquals => at least value are equals.");
          return true;
        }
      }
    }
    debug("util.oneIsEquals => no value are equals.");
    return false;
  };


  /*
   * Check if array contain seq
   * @param array
   * @param seq
   * @exception NOT_ARRAY_EXCEPTION
   */

  contain = function(array, seq) {
    var i, len, value;
    notArrayException(array, "array must be an array value.");
    for (i = 0, len = array.length; i < len; i++) {
      value = array[i];
      if ((util.isObject(seq)) && (JSON.stringify(value) === JSON.stringify(seq))) {
        return true;
      } else if (value === seq) {
        return true;
      }
    }
    return false;
  };


  /*
  * Check if array no contain seq
  * @param array
  * @param seq
  * @exception NOT_ARRAY_EXCEPTION
   */

  noContain = function(array, seq) {
    return !contain(array, seq);
  };


  /*
  * clone an element
  * @param element
  * @exception UNDEFINED_EXCEPTION, FUNCTION_EXCEPTION
   */

  clone = function(element) {
    undefinedException(element, "element mustn't be undefined (util.clone)");
    functionException(element, "element mustn't be a function (util.clone)");
    debug("util.clone => clone element " + element);
    return JSON.parse(JSON.stringify(element));
  };


  /*====================================================================================
   *                            methode check or get type
  #===================================================================================
   */


  /*
   * Check if value is null
   * @param value
   */

  isNull = function(value) {
    if (value === null) {
      debug("util.isNull => value is null.");
      return true;
    } else {
      debug("util.isNull => value isn't null.");
      return false;
    }
  };


  /*
   * Check if value isn't null
   * @param value
   */

  isNotNull = function(value) {
    return !isNull(value);
  };


  /*
   * Check if value is undefined
   * @param value
   */

  isUndefined = function(value) {
    if (value === void 0) {
      debug("util.isUndefined => value is undefined.");
      return true;
    } else {
      debug("util.isUndefined => value isn't undefined.");
      return false;
    }
  };


  /*
   * Check if value isn't undefined
   * @param value
   */

  isNotUndefined = function(value) {
    return !isUndefined(value);
  };


  /*
   * Check if value is a boolean
   * @param value
   * @return boolean
   */

  isBoolean = function(value) {
    if ((isNullOrUndefined(value)) || (typeof value !== BOOLEAN)) {
      debug("util.isBoolean => value isn't a boolean.");
      return false;
    } else {
      debug("util.isBoolean => value is a boolean.");
      return true;
    }
  };


  /*
   * Check if value isn't a boolean
   * @param value
   * @return boolean
   */

  isNotBoolean = function(value) {
    return !isBoolean(value);
  };


  /*
   * Check if value is a number
   * @param value
   * @return boolean
   */

  isNumber = function(value) {
    if ((isNullOrUndefined(value)) || (typeof value !== NUMBER)) {
      debug("util.isNumber => value isn't a number.");
      return false;
    } else {
      debug("util.isNumber => value is a number.");
      return true;
    }
  };


  /*
   * Check if value isn't a number
   * @param value
   * @return boolean
   */

  isNotNumber = function(value) {
    return !isNumber(value);
  };


  /*
   * Check if is a string value
   * @param value
   * @return boolean
   */

  isString = function(value) {
    if ((isNullOrUndefined(value)) || (typeof value !== STRING)) {
      debug("util.isString => value isn't a string.");
      return false;
    } else {
      debug("util.isString => value is a string.");
      return true;
    }
  };


  /*
   * Check if isn't a string value
   * @param value
   * @return boolean
   */

  isNotString = function(value) {
    return !isString(value);
  };


  /*
   * Check if is an object value
   * Caution : array is not object !
   * @param value
   * @return boolean
   */

  isObject = function(value) {
    if ((isNullOrUndefined(value)) || (typeof value !== OBJECT) || isArray(value)) {
      debug("util.isObject => value isn't an object.");
      return false;
    } else {
      debug("util.isObject => value is an object.");
      return true;
    }
  };


  /*
   * Check if isn't an object value
   * Caution : array is not object !
   * @param value
   * @return boolean
   */

  isNotObject = function(value) {
    return !isObject(value);
  };


  /*
   * Check if is an array value
   * @param value
   * @return boolean
   */

  isArray = function(value) {
    if ((isNullOrUndefined(value)) || !Array.isArray(value)) {
      debug("util.isArray => value isn't an array.");
      return false;
    } else {
      debug("util.isArray => value is an array.");
      return true;
    }
  };


  /*
   * Check if isn't an array value
   * @param value
   * @return boolean
   */

  isNotArray = function(value) {
    return !isArray(value);
  };


  /*
   * Check if is a function value
   * @param value
   * @return boolean
   */

  isFunction = function(value) {
    if ((isNullOrUndefined(value)) || (typeof value !== FUNCTION)) {
      debug("util.isFunction => value isn't a function.");
      return false;
    } else {
      debug("util.isFunction => value is a function.");
      return true;
    }
  };


  /*
   * Check if isn't a function value
   * @param value
   * @return boolean
   */

  isNotFunction = function(value) {
    return !isFunction(value);
  };


  /*
   * Get type name of value
   * @param value
   * @return String (type name)
   * @exception if type is unknow
   */

  getType = function(value) {
    if (isUndefined(value)) {
      debug("util.getType => value is " + UNDEFINED + ".");
      return UNDEFINED;
    } else if (isNull(value)) {
      debug("util.getType => value is " + NULL + ".");
      return NULL;
    } else if (isBoolean(value)) {
      debug("util.getType => value is " + BOOLEAN + ".");
      return BOOLEAN;
    } else if (isNumber(value)) {
      debug("util.getType => value is " + NUMBER + ".");
      return NUMBER;
    } else if (isString(value)) {
      debug("util.getType => value is " + STRING + ".");
      return STRING;
    } else if (isObject(value)) {
      debug("util.getType => value is " + OBJECT + ".");
      return OBJECT;
    } else if (isArray(value)) {
      debug("util.getType => value is " + ARRAY + ".");
      return ARRAY;
    } else if (isFunction(value)) {
      debug("util.getType => value is " + FUNCTION + ".");
      return FUNCTION;
    } else {
      error("util.getType => type unknow.");
      throw new Error("util.getType => type unknow.");
    }
  };


  /*====================================================================================
   *                                   methodes ajax
  #===================================================================================
   */


  /*
   * configure ajax query
   * @param params
   * @param isDefaultParams
   * @exception NOT_OBJECT_EXCEPTION, ARGUMENT_EXCEPTION
   */

  confAjax = function(conf, isDefaultConf) {
    var expr;
    notObjectException(conf, "params must be an object value (util.confAjax).");
    expr = (isNotNullOrUndefined(isDefaultConf)) && isNotBoolean(isDefaultConf);
    argumentException(expr, "isDefaultConf must be a null, undefined or boolean value (util.confAjax).");
    _private['paramsAjax'] = factoryConfAjax(conf, _private['defaultParamsAjax']);
    if (isDefaultConf === true) {
      return _private['defaultParamsAjax'] = clone(_private['paramsAjax']);
    }
  };


  /*
   * Send ajax query 
   * @param url
   * @param data
   * @param success
   * @param failure
   */

  ajax = function(url, data, success, failure) {
    confAjax({
      url: url,
      data: data,
      success: success,
      failure: failure
    });
    return query(_private['paramsAjax']);
  };


  /*
   * factory conf ajax query
   * @param conf
   * @param defaultConf
   * @private
   * @exception NOT_OBJECT_EXCEPTION, EMPTY_EXCEPTION, NOT_STRING_EXCEPTION, NOT_BOOLEAN_EXCEPTION, ARGUMENT_EXCEPTION
   */

  factoryConfAjax = function(conf, defaultConf) {
    var expr, retour;
    notObjectException(conf, "conf must be an object value (util.factoryParamsAjax).");
    notObjectException(defaultConf, "defaultConf must be an object (util.factoryParamsAjax).");
    emptyException(defaultConf, "defaultConf mustn't be an empty object (util.factoryParamsAjax).");
    retour = clone(defaultConf);
    if (isNotNullOrUndefined(conf['url'])) {
      notStringException(conf['url'], "conf.url must be a string value (util.factoryParamsAjax).");
      retour['url'] = conf['url'];
    }
    if (isNotUndefined(conf['data'])) {
      expr = (isNotNull(conf['data'])) && isNotObject(conf['data']);
      argumentException(expr, "conf.data must be a null or an object value (util.factoryParamsAjax).");
      retour['data'] = clone(conf['data']);
    }
    if (isNotUndefined(conf['success'])) {
      expr = (isNotNull(conf['success'])) && isNotFunction(conf['success']);
      argumentException(expr, "conf.success must be a null or a function value (util.factoryParamsAjax).");
      retour['success'] = conf['success'];
    }
    if (isNotUndefined(conf['failure'])) {
      expr = (isNotNull(conf['failure'])) && isNotFunction(conf['failure']);
      argumentException(expr, "conf.failure must be a null or a function value (util.factoryParamsAjax).");
      retour['failure'] = conf['failure'];
    }
    if (isNotNullOrUndefined(conf['method'])) {
      notStringException(conf['method'], "conf.method must be a string value (util.factoryParamsAjax).");
      expr = conf['method'] !== 'POST' && conf['method'] !== 'GET';
      argumentException(expr, "conf.methode must be equals to 'GET' or 'POST' (util.factoryParamsAjax).");
      retour['method'] = conf['method'];
    }
    if (isNotNullOrUndefined(conf['async'])) {
      notBooleanException(conf['async'], "conf.async must be a boolean value (util.factoryParamsAjax).");
      retour['async'] = conf['async'];
    }
    return retour;
  };


  /*
   * Send query with ajax jquery lib 
   * @param options
   */

  query = function(options) {
    var failure, success;
    success = function(obj) {
      debug("Response : " + obj);
      return typeof options.success === "function" ? options.success(obj) : void 0;
    };
    failure = function(obj) {
      error("error : " + obj);
      return typeof options.failure === "function" ? options.failure(obj) : void 0;
    };
    util.notObjectException(options, "options must be an object value (util.query).");
    $.ajaxSetup({
      async: (options.async ? true : false)
    });
    debug(options.method + " " + options.url + " [data : " + option.data + "]");
    return $.ajax({
      type: options.method,
      url: options.url,
      data: options.data
    }).done(function(response) {
      var e, obj;
      try {
        if ((response != null) && isNotUndefined(response)) {
          obj = toObject(response);
          if (!obj) {
            throw "No data received";
          } else if (obj.typeMessage === SUCCESS) {
            return success(obj);
          } else {
            return typeof failure === "function" ? failure(obj) : void 0;
          }
        } else {
          return typeof failure === "function" ? failure(obj) : void 0;
        }
      } catch (error1) {
        e = error1;
        return error("exception : " + exception + " [response : " + response(+"]"));
      }
    }).fail(function(jqXHR, textStatus) {
      var obj;
      obj = {};
      obj.errorMessages = [options.url + ' -> [Statut : ' + jqXHR.status + ',' + jqXHR.statusText + ']'];
      return typeof failure === "function" ? failure(obj) : void 0;
    });
  };


  /*
   * Convert ajax response to object 
   * @param response
   * @return object
   */

  toObject = function(response) {
    var e, retour;
    retour = response;
    try {
      retour = JSON.parse(response);
    } catch (error1) {
      e = error1;
    }
    if (isString(retour)) {
      if (retour === SUCCESS) {
        retour = {
          typeMessage: SUCCESS,
          errorMessages: []
        };
      } else if (retour === ERROR) {
        retour = {
          typeMessage: SUCCESS,
          errorMessages: ['Erreur technique']
        };
      } else {
        retour = {
          typeMessage: SUCCESS,
          errorMessages: [retour]
        };
      }
    } else if (typeof retour['aaData'] !== 'undefined') {
      retour = {
        typeMessage: SUCCESS,
        errorMessages: [],
        data: retour['aaData']
      };
    } else if (typeof retour['object'] !== 'undefined') {
      retour = {
        typeMessage: SUCCESS,
        errorMessages: [],
        data: retour['object']
      };
    }
    return retour;
  };


  /*====================================================================================
   *                                   methodes ajax
  #===================================================================================
   */


  /*
   * configure referentiel query
   * @param params
   * @param isDefaultParams
   * @return old params
   * @exception NOT_OBJECT_EXCEPTION, ARGUMENT_EXCEPTION
   */

  confReferentiel = function(conf, isDefaultConf) {
    var expr;
    notObjectException(conf, "conf must be an object value (util.confReferentiel).");
    expr = (isNotNullOrUndefined(isDefaultConf)) && isNotBoolean(isDefaultConf);
    argumentException(expr, "isDefaultConf must be a null, undefined or boolean value (util.confReferentiel).");
    _private['paramsReferentiel'] = factoryConfReferentiel(conf, _private['defaultParamsReferentiel']);
    if (isDefaultConf === true) {
      return _private['defaultParamsReferentiel'] = clone(_private['paramsReferentiel']);
    }
  };


  /*
   * Send referentiel query (see jquery ajax for more information)
   * @param url
   * @param data
   * @param success
   * @param failure
   * @exception BLANK_EXCEPTION, NOT_STRING_EXCEPTION, ARGUMENT_EXCEPTION
   */

  referentiel = function(name, success, faillure) {
    var conf, expr, repalceUrl, response, url;
    response = "";
    blankException(name, "name mustn't be blank (util.referentiel).");
    notStringException(name, "name must be a string value (util.referentiel).");
    if (isNotBlank(_private['cacheReferentiel'][name])) {
      response = _private['cacheReferentiel'][name];
      if (typeof success === "function") {
        success(response);
      }
    } else {
      repalceUrl = _private['defaultParamsReferentiel']['repalceUrl'];
      url = _private['defaultParamsReferentiel']['url'];
      expr = url.indexOf(repalceUrl < 0);
      argumentException(expr, "repalceUrl isn't present in default url (util.referentiel).");
      confReferentiel({
        success: function(resp) {
          if (isNotNullOrUndefined(resp)) {
            response = resp.obj;
            return typeof success === "function" ? success(resp) : void 0;
          }
        },
        faillure: faillure
      });
      conf = clone(_private['paramsReferentiel']);
      conf['url'] = url.replace(repalceUrl, name);
      query(conf);
    }
    return response;
  };


  /*
   * factory conf referentiel query
   * @param conf
   * @param defaultConf
   * @private
   * @exception NOT_OBJECT_EXCEPTION, EMPTY_EXCEPTION, NOT_STRING_EXCEPTION, NOT_BOOLEAN_EXCEPTION, ARGUMENT_EXCEPTION
   */

  factoryConfReferentiel = function(conf, defaultConf) {
    var expr, retour;
    notObjectException(conf, "conf must be an object value (util.factoryConfReferentiel).");
    notObjectException(defaultConf, "defaultConf must be an object (util.factoryConfReferentiel).");
    emptyException(defaultConf, "defaultConf mustn't be an empty object (util.factoryConfReferentiel).");
    retour = clone(defaultConf);
    if (isNotNullOrUndefined(conf['url'])) {
      notStringException(conf['url'], "conf.url must be a string value (util.factoryConfReferentiel).");
      retour['url'] = conf['url'];
    }
    if (isNotNullOrUndefined(conf['repalceUrl'])) {
      notStringException(conf['repalceUrl'], "conf.repalceUrl must be a string value (util.factoryConfReferentiel).");
      retour['repalceUrl'] = clone(conf['repalceUrl']);
    }
    if (isNotUndefined(conf['success'])) {
      expr = (isNotNull(conf['success'])) && isNotFunction(conf['success']);
      argumentException(expr, "conf.success must be a null or a function value (util.factoryParamsAjax).");
      retour['success'] = conf['success'];
    }
    if (isNotUndefined(conf['failure'])) {
      expr = (isNotNull(conf['failure'])) && isNotFunction(conf['failure']);
      argumentException(expr, "conf.failure must be a null or a function value (util.factoryParamsAjax).");
      retour['failure'] = conf['failure'];
    }
    if (isNotNullOrUndefined(conf['method'])) {
      notStringException(conf['method'], "conf.method must be a string value (util.factoryParamsAjax).");
      expr = conf['method'] !== 'POST' && conf['method'] !== 'GET';
      argumentException(expr, "conf.methode must be equals to 'GET' or 'POST' (util.factoryParamsAjax).");
      retour['method'] = conf['method'];
    }
    if (isNotNullOrUndefined(conf['async'])) {
      notBooleanException(conf['async'], "conf.async must be a boolean value (util.factoryParamsAjax).");
      retour['async'] = conf['async'];
    }
    return retour;
  };


  /*====================================================================================
   *                                   methodes debug
  #===================================================================================
   */


  /*
   * enable/disable mode debug
   * @param modeDebug
   * @exception NOT_BOOLEAN_EXCEPTION
   */

  modeDebug = function(isModeDebug) {
    notBooleanException(isModeDebug, "isModeDebug must be a boolean value (util.modeDebug)");
    return isModeDebug = isModeDebug;
  };


  /*
   * write in console debug
   * @param message
   */

  debug = function(message) {
    if (isModeDebug) {
      return console.log("DEBUG " + message);
    }
  };


  /*
   * write in console error
   * @param message
   */

  error = function(message) {
    return console.error("ERROR " + message);
  };


  /*====================================================================================
   *                                   methodes date
  #===================================================================================
   */


  /*
   * Create a new date with format in param
   * @param dateString
   * @param format
   * @return Date
   */

  newDate = function(dateString, format) {
    var date;
    date = null;
    if (isNullOrUndefined(dateString)) {
      date = null;
    } else if (util.isArray(regexFormat[format])) {
      date = new Date(dateString.replace(regexFormat[format][0], regexFormat[format][1]));
    } else {
      date = new Date(dateString);
    }
    return date;
  };


  /*
   * Formatted date
   * @param date
   * @param format
   * @return string
   * @exception NOT_STRING_EXCEPTION, ARGUMENT_EXCEPTION
   */

  formattedDate = function(date, format) {
    notStringException(format, "util.formattedDate => format must be an string value.");
    argumentException(isValideDate(date), "util.formattedDate => date isn't a date value.");
    return moment(date).format(format);
  };


  /*
   * Date is valide
   * @param date
   * @return boolean
   */

  isValideDate = function(date) {
    if ((isObject(date)) && isNaN(date.getTime())) {
      return true;
    } else {
      return false;
    }
  };

  module.exports.UNDEFINED = UNDEFINED;

  module.exports.NULL = NULL;

  module.exports.BOOLEAN = BOOLEAN;

  module.exports.NUMBER = NUMBER;

  module.exports.STRING = STRING;

  module.exports.OBJEC = OBJECT;

  module.exports.ARRAY = ARRAY;

  module.exports.FUNCTION = FUNCTION;

  module.exports.FORMAT_DATE_DD_MM_YYYY_1 = FORMAT_DATE_DD_MM_YYYY_1;

  module.exports.FORMAT_DATE_DD_MM_YY_1 = FORMAT_DATE_DD_MM_YY_1;

  module.exports.FORMAT_DATE_DD_MM_YYYY_2 = FORMAT_DATE_DD_MM_YYYY_2;

  module.exports.FORMAT_DATE_DD_MM_YY_2 = FORMAT_DATE_DD_MM_YY_2;

  module.exports.FORMAT_DATE_MM_DD_YYYY_1 = FORMAT_DATE_MM_DD_YYYY_1;

  module.exports.FORMAT_DATE_MM_DD_YY_1 = FORMAT_DATE_MM_DD_YY_1;

  module.exports.FORMAT_DATE_MM_DD_YYYY_2 = FORMAT_DATE_MM_DD_YYYY_2;

  module.exports.FORMAT_DATE_MM_DD_YY_2 = FORMAT_DATE_MM_DD_YY_2;

  module.exports.SUCCESS = SUCCESS;

  module.exports.ERROR = ERROR;

  module.exports.ARGUMENT_EXCEPTION = ARGUMENT_EXCEPTION;

  module.exports.NULL_OR_UNDEFINED_EXCEPTION = NULL_OR_UNDEFINED_EXCEPTION;

  module.exports.NOT_NULL_OR_UNDEFINED_EXCEPTION = NOT_NULL_OR_UNDEFINED_EXCEPTION;

  module.exports.NULL_EXCEPTION = NULL_EXCEPTION;

  module.exports.NOT_NULL_EXCEPTION = NOT_NULL_EXCEPTION;

  module.exports.UNDEFINED_EXCEPTION = UNDEFINED_EXCEPTION;

  module.exports.NOT_UNDEFINED_EXCEPTION = NOT_UNDEFINED_EXCEPTION;

  module.exports.BLANK_EXCEPTION = BLANK_EXCEPTION;

  module.exports.NOT_BLANK_EXCEPTION = NOT_BLANK_EXCEPTION;

  module.exports.EMPTY_EXCEPTION = EMPTY_EXCEPTION;

  module.exports.NOT_EMPTY_EXCEPTION = NOT_EMPTY_EXCEPTION;

  module.exports.BOOLEAN_EXCEPTION = BOOLEAN_EXCEPTION;

  module.exports.NOT_BOOLEAN_EXCEPTION = NOT_BOOLEAN_EXCEPTION;

  module.exports.NUMBER_EXCEPTION = NUMBER_EXCEPTION;

  module.exports.NOT_NUMBER_EXCEPTION = NOT_NUMBER_EXCEPTION;

  module.exports.STRING_EXCEPTION = STRING_EXCEPTION;

  module.exports.NOT_STRING_EXCEPTION = NOT_STRING_EXCEPTION;

  module.exports.OBJECT_EXCEPTION = OBJECT_EXCEPTION;

  module.exports.NOT_OBJECT_EXCEPTION = NOT_OBJECT_EXCEPTION;

  module.exports.ARRAY_EXCEPTION = ARRAY_EXCEPTION;

  module.exports.NOT_ARRAY_EXCEPTION = NOT_ARRAY_EXCEPTION;

  module.exports.FUNCTION_EXCEPTION = FUNCTION_EXCEPTION;

  module.exports.NOT_FUNCTION_EXCEPTION = NOT_FUNCTION_EXCEPTION;

  module.exports.argumentException = argumentException;

  module.exports.nullOrUndefinedException = nullOrUndefinedException;

  module.exports.notNullOrUndefinedException = notNullOrUndefinedException;

  module.exports.nullException = nullException;

  module.exports.notNullException = notNullException;

  module.exports.undefinedException = undefinedException;

  module.exports.notUndefinedException = notUndefinedException;

  module.exports.blankException = blankException;

  module.exports.notBlankException = notBlankException;

  module.exports.emptyException = emptyException;

  module.exports.notEmptyException = notEmptyException;

  module.exports.booleanException = booleanException;

  module.exports.notBooleanException = notBooleanException;

  module.exports.numberException = numberException;

  module.exports.notNumberException = notNumberException;

  module.exports.stringException = stringException;

  module.exports.notStringException = notStringException;

  module.exports.objectException = objectException;

  module.exports.notObjectException = notObjectException;

  module.exports.arrayException = arrayException;

  module.exports.notArrayException = notArrayException;

  module.exports.functionException = functionException;

  module.exports.notFunctionException = notFunctionException;

  module.exports.isNullOrUndefined = isNullOrUndefined;

  module.exports.isNotNullOrUndefined = isNotNullOrUndefined;

  module.exports.isBlank = isBlank;

  module.exports.isNotBlank = isNotBlank;

  module.exports.isEmpty = isEmpty;

  module.exports.isNotEmpty = isNotEmpty;

  module.exports.oneIsEmpty = oneIsEmpty;

  module.exports.isEquals = isEquals;

  module.exports.oneIsEquals = oneIsEquals;

  module.exports.contain = contain;

  module.exports.noContain = noContain;

  module.exports.clone = clone;

  module.exports.isNull = isNull;

  module.exports.isNotNull = isNotNull;

  module.exports.isUndefined = isUndefined;

  module.exports.isNotUndefined = isNotUndefined;

  module.exports.isBoolean = isBoolean;

  module.exports.isNotBoolean = isNotBoolean;

  module.exports.isNumber = isNumber;

  module.exports.isNotNumber = isNotNumber;

  module.exports.isString = isString;

  module.exports.isNotString = isNotString;

  module.exports.isObject = isObject;

  module.exports.isNotObject = isNotObject;

  module.exports.isArray = isArray;

  module.exports.isNotArray = isNotArray;

  module.exports.isFunction = isFunction;

  module.exports.isNotFunction = isNotFunction;

  module.exports.getType = getType;

  module.exports.confAjax = confAjax;

  module.exports.ajax = ajax;

  module.exports.confReferentiel = confReferentiel;

  module.exports.referentiel = referentiel;

  module.exports.modeDebug = modeDebug;

  module.exports.debug = debug;

  module.exports.error = error;

  module.exports.newDate = newDate;

  module.exports.formattedDate = formattedDate;

  module.exports.isValideDate = isValideDate;

}).call(this);
